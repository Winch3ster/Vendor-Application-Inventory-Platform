@model List<Vendor_Application_Inventory_Platform.Areas.Admin.ViewModels.SoftwareViewModel>
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    ViewBag.Title = "Software";
    Layout = "_AdminControlPanel";
}

<div class="table-responsive mt-5">
    <table class="table table-hover">
        <thead class="citisoft-background-color">
        <tr>
            <th>
                Software Name
            </th>
            <th>
                Cloud Type
            </th>
            <th>
                Module
            </th>
            <th>
                Software Area
            </th>
            <th>
                Software Type
            </th>
            <th>
                Financial Service Client Type
            </th>
            <th>
                Document Attached
            </th>
            <th>
                Actions
            </th>
        </tr>
        </thead>
        <tbody>
        @foreach (var software in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => software.SoftwareName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => software.Cloud)
                </td>
                <td>
                    @foreach (var softwareModule in software.SoftwareModules)
                    {
                        @Html.DisplayFor(modelItem => softwareModule)
                        <br />
                    }
                </td>
                <td>
                    @foreach(var softwareArea in software.BusinessAreas)
                    {
                        @Html.DisplayFor(modelItem => softwareArea)
                        <br />
                    }
                </td>
                <td>
                    @foreach(var softwareType in software.SoftwareTypes)
                    {
                        @Html.DisplayFor(modelItem => softwareType)
                        <br />
                    }
                </td>
                <td>
                    @foreach(var clientType in software.FinancialServicesClientTypes)
                    {
                        @Html.DisplayFor(modelItem => clientType)
                        <br />
                    }
                </td>
                <td>
                    @if (software.DocumentAttached)
                    {
                        <text>Yes</text>
                    }
                    else
                    {
                        <text>No</text>
                    }
                </td>
                <td>
                    <a class="btn btn-info rounded-pill px-4 my-1" asp-area="User" asp-controller="Software" asp-action="Details" asp-route-softwareId="@software.SoftwareID"><i class="bi bi-eye"></i>View</a>
                    <a class="btn btn-primary rounded-pill px-4" asp-area="Admin" asp-action="CreateSoftware" asp-route-id="@software.SoftwareID"><i class="bi bi-pencil-square"></i>Edit</a>
                    <form asp-area="Admin" asp-action="DeleteSoftware" asp-route-id="@software.SoftwareID" method="post" onsubmit="return confirm('Are you sure you want to delete this item?');">
                        <button type="submit" class="d-flex btn btn-danger mt-1 rounded-pill px-4" data-toggle="tooltip" data-placement="top" title="Delete">
                            <i class="bi bi-trash"></i> Remove
                        </button>
                    </form>
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>

@section Scripts{
    <script >
        $('#view-software').removeClass('indicator-off');
    </script>
    
}
